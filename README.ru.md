<div align="center">

# üîó opencode-hashline

**–ö–æ–Ω—Ç–µ–Ω—Ç–Ω–æ-–∞–¥—Ä–µ—Å—É–µ–º–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é AI**

[![CI](https://github.com/izzzzzi/opencode-hashline/actions/workflows/ci.yml/badge.svg)](https://github.com/izzzzzi/opencode-hashline/actions/workflows/ci.yml)
[![npm version](https://img.shields.io/npm/v/opencode-hashline.svg?style=flat&colorA=18181B&colorB=28CF8D)](https://www.npmjs.com/package/opencode-hashline)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg?style=flat&colorA=18181B&colorB=28CF8D)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue?style=flat&colorA=18181B&colorB=3178C6)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-ESM-green?style=flat&colorA=18181B&colorB=339933)](https://nodejs.org/)

**üá∑üá∫ –†—É—Å—Å–∫–∏–π** | [üá¨üáß English](README.md)

<br />

*Hashline-–ø–ª–∞–≥–∏–Ω –¥–ª—è [OpenCode](https://github.com/anomalyco/opencode) ‚Äî –∞–Ω–Ω–æ—Ç–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É —Ñ–∞–π–ª–∞ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ö–µ—à-—Ç–µ–≥–æ–º, —á—Ç–æ–±—ã AI –º–æ–≥ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –∫–æ–¥ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é.*

</div>

---

## üìñ –ß—Ç–æ —Ç–∞–∫–æ–µ Hashline?

Hashline –∞–Ω–Ω–æ—Ç–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É —Ñ–∞–π–ª–∞ –∫–æ—Ä–æ—Ç–∫–∏–º –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º hex-—Ö–µ—à–µ–º. –ö–æ–≥–¥–∞ AI —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª, –æ–Ω –≤–∏–¥–∏—Ç:

```
#HL 1:a3f|function hello() {
#HL 2:f1c|  return "world";
#HL 3:0e7|}
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª–∏–Ω–∞ —Ö–µ—à–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è ‚Äî –æ–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (2 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è ‚â§256 —Å—Ç—Ä–æ–∫, 3 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è ‚â§4096 —Å—Ç—Ä–æ–∫, 4 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è >4096 —Å—Ç—Ä–æ–∫). –í –ø—Ä–∏–º–µ—Ä–∞—Ö –Ω–∏–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 3-—Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Ö–µ—à–∏. –ü—Ä–µ—Ñ–∏–∫—Å `#HL ` –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ö–µ—à–µ–π –∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º.

AI-–º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ –∏—Ö —Ö–µ—à-—Ç–µ–≥–∞–º –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- **¬´–ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É `2:f1c`¬ª** ‚Äî —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–æ–∫—É –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ
- **¬´–ó–∞–º–µ–Ω–∏—Ç—å –±–ª–æ–∫ –æ—Ç `1:a3f` –¥–æ `3:0e7`¬ª** ‚Äî —É–∫–∞–∑–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Å—Ç—Ä–æ–∫
- **¬´–í—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ `3:0e7`¬ª** ‚Äî –≤—Å—Ç–∞–≤–∏—Ç—å –≤ —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ

### ü§î –ü–æ—á–µ–º—É —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç?

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ —Å–¥–≤–∏–≥–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, –≤—ã–∑—ã–≤–∞—è –æ—à–∏–±–∫–∏ —Å–º–µ—â–µ–Ω–∏—è –∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å—Å—ã–ª–∫–∏. –•–µ—à-—Ç–µ–≥–∏ Hashline **–∫–æ–Ω—Ç–µ–Ω—Ç–Ω–æ-–∞–¥—Ä–µ—Å—É–µ–º—ã** ‚Äî –æ–Ω–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ —Å—Ç—Ä–æ–∫–∏ –∏ –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö —Å—Ç–∞–±–∏–ª—å–Ω–æ–π, –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ–º–æ–π —Å—Å—ã–ª–∫–æ–π –¥–ª—è —Ç–æ—á–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –≤ –∫–æ–¥–µ.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìè –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –¥–ª–∏–Ω–∞ —Ö–µ—à–∞

–î–ª–∏–Ω–∞ —Ö–µ—à–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–ª–∏–∑–∏–π:

| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | –î–ª–∏–Ω–∞ —Ö–µ—à–∞ | –í–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π |
|-------------|:----------:|:------------------:|
| ‚â§ 256 —Å—Ç—Ä–æ–∫ | 2 hex-—Å–∏–º–≤–æ–ª–∞ | 256 |
| ‚â§ 4 096 —Å—Ç—Ä–æ–∫ | 3 hex-—Å–∏–º–≤–æ–ª–∞ | 4 096 |
| > 4 096 —Å—Ç—Ä–æ–∫ | 4 hex-—Å–∏–º–≤–æ–ª–∞ | 65 536 |

### üè∑Ô∏è –ú–∞–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–µ—Ñ–∏–∫—Å (`#HL `)

–°—Ç—Ä–æ–∫–∏ –∞–Ω–Ω–æ—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `#HL `), —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ö–µ—à–µ–π. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–æ–¥–µ `1:ab|some data` –Ω–µ –±—É–¥—É—Ç —Å–ª—É—á–∞–π–Ω–æ –æ–±—Ä–µ–∑–∞–Ω—ã.

```
#HL 1:a3|function hello() {
#HL 2:f1|  return "world";
#HL 3:0e|}
```

–ü—Ä–µ—Ñ–∏–∫—Å –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:

```typescript
// –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å
const hl = createHashline({ prefix: ">> " });

// –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å (legacy-—Ñ–æ—Ä–º–∞—Ç: "1:a3|code")
const hl = createHashline({ prefix: false });
```

### üíæ LRU-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LRU-–∫–µ—à (`filePath ‚Üí annotatedContent`) —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Ä–∞–∑–º–µ—Ä–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 —Ñ–∞–π–ª–æ–≤). –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —á—Ç–µ–Ω–∏–∏ —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞ —Å –Ω–µ–∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ö–µ—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞.

### ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ö–µ—à–µ–π

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å –º–æ–º–µ–Ω—Ç–∞ —á—Ç–µ–Ω–∏—è ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç race conditions:

```typescript
import { verifyHash } from "opencode-hashline";

const result = verifyHash(2, "f1c", currentContent);
if (!result.valid) {
  console.error(result.message); // "Hash mismatch at line 2: ..."
}
```

–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ö–µ—à–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª–∏–Ω—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Ö–µ—à-—Å—Å—ã–ª–∫–∏ (–∞ –Ω–µ —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞), –ø–æ—ç—Ç–æ–º—É —Å—Å—ã–ª–∫–∞ –≤—Ä–æ–¥–µ `2:f1` –æ—Å—Ç–∞—ë—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ–π –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–π–ª –≤—ã—Ä–æ—Å.

### üîç –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –æ—Ç—Å—Ç—É–ø–∞–º

–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `trimEnd()` (–∞ –Ω–µ `trim()`), –ø–æ—ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ–¥—É—â–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ (–æ—Ç—Å—Ç—É–ø–æ–≤) –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –∞ –∑–∞–≤–µ—Ä—à–∞—é—â–∏–µ –ø—Ä–æ–±–µ–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

### üìê Range-–æ–ø–µ—Ä–∞—Ü–∏–∏

–†–µ–∑–æ–ª–≤–∏–Ω–≥ –∏ –∑–∞–º–µ–Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Å—Ç—Ä–æ–∫ –ø–æ —Ö–µ—à-—Å—Å—ã–ª–∫–∞–º:

```typescript
import { resolveRange, replaceRange } from "opencode-hashline";

// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —Ö–µ—à-—Å—Å—ã–ª–∫–∞–º–∏
const range = resolveRange("1:a3f", "3:0e7", content);
console.log(range.lines); // ["function hello() {", '  return "world";', "}"]

// –ó–∞–º–µ–Ω–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω –Ω–æ–≤—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
const newContent = replaceRange(
  "1:a3f", "3:0e7", content,
  "function goodbye() {\n  return 'farewell';\n}"
);
```

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å

–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Hashline —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```typescript
import { createHashline } from "opencode-hashline";

const hl = createHashline({
  exclude: ["**/node_modules/**", "**/*.min.js"],
  maxFileSize: 512_000,  // 512 –ö–ë
  hashLength: 3,         // –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ 3-—Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Ö–µ—à–∏
  cacheSize: 200,        // –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–æ 200 —Ñ–∞–π–ª–æ–≤
  prefix: "#HL ",        // –º–∞–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–µ—Ñ–∏–∫—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
const annotated = hl.formatFileWithHashes(content, "src/app.ts");
const isExcluded = hl.shouldExclude("node_modules/foo.js"); // true
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|:------------:|----------|
| `exclude` | `string[]` | –°–º. –Ω–∏–∂–µ | Glob-–ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ |
| `maxFileSize` | `number` | `1_000_000` | –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö |
| `hashLength` | `number \| undefined` | `undefined` (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ) | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ö–µ—à–∞ |
| `cacheSize` | `number` | `100` | –ú–∞–∫—Å. —Ñ–∞–π–ª–æ–≤ –≤ LRU-–∫–µ—à–µ |
| `prefix` | `string \| false` | `"#HL "` | –ü—Ä–µ—Ñ–∏–∫—Å —Å—Ç—Ä–æ–∫–∏ (`false` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è) |

–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: lock-—Ñ–∞–π–ª—ã, `node_modules`, –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à—Ä–∏—Ñ—Ç—ã, –∞—Ä—Ö–∏–≤—ã –∏ —Ç.–¥.).

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install opencode-hashline
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞–≥–∏–Ω –≤ –≤–∞—à `opencode.json`:

```json
{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-hashline"]
}
```

–í–æ—Ç –∏ –≤—Å—ë! –ü–ª–∞–≥–∏–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

| # | –î–µ–π—Å—Ç–≤–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|:-:|----------|----------|
| 1 | üìù **–ê–Ω–Ω–æ—Ç–∏—Ä—É–µ—Ç —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤** | –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ AI –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç `#HL` —Ö–µ—à-–ø—Ä–µ—Ñ–∏–∫—Å |
| 2 | ‚úÇÔ∏è **–£–±–∏—Ä–∞–µ—Ç —Ö–µ—à-–ø—Ä–µ—Ñ–∏–∫—Å—ã –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏** | –ü—Ä–∏ –∑–∞–ø–∏—Å–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ —Ö–µ—à-–ø—Ä–µ—Ñ–∏–∫—Å—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| 3 | üß† **–í–Ω–µ–¥—Ä—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç** | AI –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é hashline-—Å—Å—ã–ª–æ–∫ |
| 4 | üíæ **–ö–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** | –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —á—Ç–µ–Ω–∏—è —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ |
| 5 | üîç **–§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É** | –¢–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä `read_file`, `cat`, `view`) –ø–æ–ª—É—á–∞—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏; –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è |
| 6 | ‚öôÔ∏è **–£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** | –ò—Å–∫–ª—é—á—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ —Ñ–∞–π–ª—ã, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ `maxFileSize`, –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è |

---

## üõ†Ô∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞

–•–µ—à –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–∑:
- **0-based –∏–Ω–¥–µ–∫—Å–∞** —Å—Ç—Ä–æ–∫–∏
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–æ–∫–∏** —Å –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–º–∏ –∑–∞–≤–µ—Ä—à–∞—é—â–∏–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏ (trimEnd) ‚Äî –≤–µ–¥—É—â–∏–µ –ø—Ä–æ–±–µ–ª—ã (–æ—Ç—Å—Ç—É–ø—ã) –ó–ù–ê–ß–ò–ú–´

–≠—Ç–æ –ø–æ–¥–∞—ë—Ç—Å—è –≤ —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—é **FNV-1a**, —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –º–æ–¥—É–ª—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ hex-—Å—Ç—Ä–æ–∫–∞.

### –•—É–∫–∏ –ø–ª–∞–≥–∏–Ω–∞

–ü–ª–∞–≥–∏–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ç—Ä–∏ —Ö—É–∫–∞ OpenCode:

| –•—É–∫ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----|-----------|
| `tool.execute.after` | –î–æ–±–∞–≤–ª—è–µ—Ç hashline-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ –≤—ã–≤–æ–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ |
| `tool.execute.before` | –£–±–∏—Ä–∞–µ—Ç hashline-–ø—Ä–µ—Ñ–∏–∫—Å—ã –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `experimental.chat.system.transform` | –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é hashline –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç |

---

## üîå –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API

–û—Å–Ω–æ–≤–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã —Ç–∞–∫–∂–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```typescript
import {
  computeLineHash,
  formatFileWithHashes,
  stripHashes,
  parseHashRef,
  buildHashMap,
  getAdaptiveHashLength,
  verifyHash,
  resolveRange,
  replaceRange,
  HashlineCache,
  createHashline,
  shouldExclude,
  matchesGlob,
  resolveConfig,
  DEFAULT_PREFIX,
} from "opencode-hashline";
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
// –í—ã—á–∏—Å–ª–∏—Ç—å —Ö–µ—à –¥–ª—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
const hash = computeLineHash(0, "function hello() {"); // –Ω–∞–ø—Ä–∏–º–µ—Ä "a3f"

// –í—ã—á–∏—Å–ª–∏—Ç—å —Ö–µ—à —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –¥–ª–∏–Ω–æ–π
const hash4 = computeLineHash(0, "function hello() {", 4); // –Ω–∞–ø—Ä–∏–º–µ—Ä "a3f2"

// –ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –¥–ª–∏–Ω–∞ —Ö–µ—à–∞, —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º #HL)
const annotated = formatFileWithHashes(fileContent);
// "#HL 1:a3|function hello() {\n#HL 2:f1|  return \"world\";\n#HL 3:0e|}"

// –ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –¥–ª–∏–Ω–æ–π —Ö–µ—à–∞
const annotated3 = formatFileWithHashes(fileContent, 3);

// –ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ (legacy-—Ñ–æ—Ä–º–∞—Ç)
const annotatedLegacy = formatFileWithHashes(fileContent, undefined, false);

// –£–±—Ä–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –ø–æ–ª—É—á–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
const original = stripHashes(annotated);
```

### –•–µ—à-—Å—Å—ã–ª–∫–∏ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

```typescript
// –†–∞–∑–æ–±—Ä–∞—Ç—å —Ö–µ—à-—Å—Å—ã–ª–∫—É
const { line, hash } = parseHashRef("2:f1c"); // { line: 2, hash: "f1c" }

// –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ä—Ç—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
const map = buildHashMap(fileContent); // Map<"2:f1c", 2>

// –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ö–µ—à-—Å—Å—ã–ª–∫—É (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç hash.length, –∞ –Ω–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞)
const result = verifyHash(2, "f1c", fileContent);
```

### Range-–æ–ø–µ—Ä–∞—Ü–∏–∏

```typescript
// –†–µ–∑–æ–ª–≤–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω
const range = resolveRange("1:a3f", "3:0e7", fileContent);

// –ó–∞–º–µ–Ω–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω
const newContent = replaceRange("1:a3f", "3:0e7", fileContent, "–Ω–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ");
```

### –£—Ç–∏–ª–∏—Ç—ã

```typescript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω—É–∂–Ω–æ –ª–∏ –∏—Å–∫–ª—é—á–∏—Ç—å —Ñ–∞–π–ª
const excluded = shouldExclude("node_modules/foo.js", ["**/node_modules/**"]);

// –°–æ–∑–¥–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
const hl = createHashline({ cacheSize: 50, hashLength: 3 });
```

---

## üìä –ë–µ–Ω—á–º–∞—Ä–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–µ–Ω—á–º–∞—Ä–∫ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ `formatFileWithHashes()` –∏ `stripHashes()` –Ω–∞ —Ñ–∞–π–ª–∞—Ö —Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:

```bash
npm run benchmark
```

### –û–±–∑–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

> –û–±–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç **—Å—É–±–ª–∏–Ω–µ–π–Ω—ã–π —Ä–æ—Å—Ç** ‚Äî –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç—ë—Ç —Å —Ä–∞–∑–º–µ—Ä–æ–º —Ñ–∞–π–ª–∞, –¥–æ—Å—Ç–∏–≥–∞—è **~1.8M —Å—Ç—Ä–æ–∫/—Å–µ–∫** –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ö–µ—à–µ–π –∏ **~1.1M —Å—Ç—Ä–æ–∫/—Å–µ–∫** –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–∞–∂–µ —Ñ–∞–π–ª –∏–∑ 10 000 —Å—Ç—Ä–æ–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 10 –º—Å.

### ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | `formatFileWithHashes` | `stripHashes` | –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ |
|-------------:|:----------------------:|:-------------:|:-----------:|
| **10** —Å—Ç—Ä–æ–∫ | 0.05 –º—Å | 0.03 –º—Å | 1.7√ó |
| **100** —Å—Ç—Ä–æ–∫ | 0.12 –º—Å | 0.08 –º—Å | 1.5√ó |
| **1 000** —Å—Ç—Ä–æ–∫ | 0.95 –º—Å | 0.60 –º—Å | 1.6√ó |
| **5 000** —Å—Ç—Ä–æ–∫ | 4.50 –º—Å | 2.80 –º—Å | 1.6√ó |
| **10 000** —Å—Ç—Ä–æ–∫ | 9.20 –º—Å | 5.50 –º—Å | 1.7√ó |

### üöÄ –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (—Å—Ç—Ä–æ–∫/—Å–µ–∫)

```
formatFileWithHashes                          stripHashes
                                              
  10 —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   200K       10 —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   333K
 100 —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   833K      100 —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 1,250K
  1K —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 1,053K       1K —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 1,667K
  5K —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 1,111K       5K —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë 1,786K
 10K —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 1,087K      10K —Å—Ç—Ä–æ–∫  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë 1,818K
                                              
              ‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî                        ‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî
              0        600K    1.2M                         0       1M        2M
```

### –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

- **`stripHashes` –±—ã—Å—Ç—Ä–µ–µ –≤ ~1.6√ó** —á–µ–º `formatFileWithHashes` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ regex-—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Ç–æ–≥–¥–∞ –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª—è–µ—Ç FNV-1a —Ö–µ—à –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ö–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è** ‚Äî –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –æ—Ç 10 –∫ 10 000 —Å—Ç—Ä–æ–∫ –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç—ë—Ç ~5√ó –¥–ª—è format –∏ ~5.5√ó –¥–ª—è strip
- **–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ**: —Ç–∏–ø–∏—á–Ω—ã–π —Ñ–∞–π–ª –∏–∑ 1 000 —Å—Ç—Ä–æ–∫ –∞–Ω–Ω–æ—Ç–∏—Ä—É–µ—Ç—Å—è –∑–∞ **< 1 –º—Å** ‚Äî –Ω–µ–∑–∞–º–µ—Ç–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

<details>
<summary>üìã –ò—Å—Ö–æ–¥–Ω—ã–π –≤—ã–≤–æ–¥ –±–µ–Ω—á–º–∞—Ä–∫–∞</summary>

```
Hashline Benchmark
==================

File Size (lines) ‚îÇ formatFileWithHashes (ms) ‚îÇ stripHashes (ms) ‚îÇ Throughput format (lines/sec) ‚îÇ Throughput strip (lines/sec)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
              10  ‚îÇ                     0.05  ‚îÇ            0.03  ‚îÇ                     200,000  ‚îÇ                    333,333
             100  ‚îÇ                     0.12  ‚îÇ            0.08  ‚îÇ                     833,333  ‚îÇ                  1,250,000
           1,000  ‚îÇ                     0.95  ‚îÇ            0.60  ‚îÇ                   1,052,632  ‚îÇ                  1,666,667
           5,000  ‚îÇ                     4.50  ‚îÇ            2.80  ‚îÇ                   1,111,111  ‚îÇ                  1,785,714
          10,000  ‚îÇ                     9.20  ‚îÇ            5.50  ‚îÇ                   1,086,957  ‚îÇ                  1,818,182
```

</details>

---

## üßë‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
npm test

# –°–æ–±—Ä–∞—Ç—å
npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run typecheck
```

---

## üí° –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞

–ò–¥–µ—è hashline –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏ –∏–∑ **oh-my-pi** –æ—Ç [can1357](https://github.com/can1357/oh-my-pi) ‚Äî AI-—Ç—É–ª–∫–∏—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (coding agent CLI, unified LLM API, TUI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏) ‚Äî –∏ —Å—Ç–∞—Ç—å–∏ ¬´The Harness Problem¬ª (–ø—Ä–æ–±–ª–µ–º–∞ –æ–±–≤—è–∑–∫–∏).

**–°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:** —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ AI-–º–æ–¥–µ–ª–∏ –æ–±–ª–∞–¥–∞—é—Ç –æ–≥—Ä–æ–º–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏, –Ω–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (harness), –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç –º–æ–¥–µ–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç –µ—ë –ø—Ä–∞–≤–∫–∏ –∫ —Ñ–∞–π–ª–∞–º, —Ç–µ—Ä—è—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø–æ—Ä–æ–∂–¥–∞—é—Ç –æ—à–∏–±–∫–∏. –ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –Ω–æ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—ã–Ω—É–∂–¥–µ–Ω–∞ ¬´—É–≥–∞–¥—ã–≤–∞—Ç—å¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–∫—Ä—É–∂–∞—é—â–∏—Ö —Å—Ç—Ä–æ–∫. Search-and-replace –ª–æ–º–∞–µ—Ç—Å—è –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç–∞—Ö —Å—Ç—Ä–æ–∫, –∞ diff-—Ñ–æ—Ä–º–∞—Ç —Ç–æ–∂–µ –Ω–µ–Ω–∞–¥—ë–∂–µ–Ω –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

Hashline —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –ø—Ä–∏—Å–≤–∞–∏–≤–∞—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –∫–æ—Ä–æ—Ç–∫–∏–π –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–µ—à-—Ç–µ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2:f1c`), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–¥—Ä–µ—Å–∞—Ü–∏—é —Å—Ç—Ä–æ–∫ **—Ç–æ—á–Ω–æ–π –∏ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–π**. –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ª—é–±—É—é —Å—Ç—Ä–æ–∫—É –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫ —Å–º–µ—â–µ–Ω–∏—è –∏ –ø—É—Ç–∞–Ω–∏—Ü—ã —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏.

**–°—Å—ã–ª–∫–∏:**
- [oh-my-pi –æ—Ç can1357](https://github.com/can1357/oh-my-pi) ‚Äî AI-—Ç—É–ª–∫–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: coding agent CLI, unified LLM API, TUI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- [The Harness Problem](https://blog.can.ac/2026/02/12/the-harness-problem/) ‚Äî –±–ª–æ–≥-–ø–æ—Å—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
- [–°—Ç–∞—Ç—å—è –Ω–∞ –•–∞–±—Ä–µ](https://habr.com/ru/companies/bothub/news/995986/) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT](LICENSE) ¬© opencode-hashline contributors
